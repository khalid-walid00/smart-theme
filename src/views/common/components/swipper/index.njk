{% from "common/components/cards/index.njk" import cardSection1,cardOptions,cardCategory%}
{% from "common/components/operations/index.njk" import showMore %}
{%macro Homeswipper(caption="")%}

  <div class="swiper mySwiper overflow-hidden realtive" style="height: 100vh;">
    <div class="swiper-wrapper">
      <div class="swiper-slide h-screen   relative" style="width:100%">
        <img class="h-screen w-screen screen-hom" src={{"images/home1.webp" | assets}}>
        <div class=" bg-black bg-opacity-25 top-0 absolute w-screen h-screen"></div>
        <div class="caption text-maingold text-5xl font-bold">
          
          {{caption}}
        
          <div class=" mt-20">
            <a class=" text-xl text-maingold" href="/products">
              <span class=" bg-black rounded-full mx-2 px-1"><i class="fa-solid fa-arrow-left text-maingold"></i>
              </span>
              <span>تسوق الان</span>
            </a>
          </div>
        </div>
        <!-- Caption for Slide 2 -->
      </div>
      <div class="swiper-slide " style="width:100%">
        <img class="h-screen w-screen" src={{"images/home2.webp" | assets}}>
        <div class=" bg-black bg-opacity-25 top-0 absolute w-screen h-screen"></div>
      </div>
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
    <div class="swiper-pagination"></div>
  </div>
  {%endmacro%}

  {% macro ProductCardswipper() %}
  <style>
     .product-swiper .swiper-slide
     {
       margin-left: 10px !important;
     }
    </style>
  <div class="swiper product-swiper group1 w-full max-w-full h-auto bg-transparent">
    <div class="swiper-wrapper flex">
      {% for i in range(8) %}
      <div class="swiper-slide flex justify-center items-center w-[200px] ml-0" style="background: transparent">
        {{cardCategory(category="مجموعة العيد", image="images/card1.webp", price="343.85", discount="67", priceBeforeDiscount="67", rating=5)}}
      </div>
      {% endfor %}
    </div>
    <div class="">
      <div class="swiper-button-next absolute right-4 transform rotate-90 md:rotate-0"></div>
      <div class="swiper-button-prev absolute left-4 transform rotate-90 md:rotate-0"></div>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  
  <script>
    var swiper = new Swiper(".product-swiper", {
      slidesPerView: 3,
      spaceBetween: 10,
      loop: true,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
      navigation: {
        nextEl: ".swiper-button-next",
        prevEl: ".swiper-button-prev",
      },
      breakpoints: {
        300: {
          slidesPerView: 2,
          spaceBetween: 10,
        },
        768: {
          slidesPerView: 3,
          spaceBetween: 20,
        },
        1024: {
          slidesPerView: 5,
          spaceBetween: 30,
        }
      }
    });
  </script>
  {% endmacro %}
  


    {%macro opinionsswipper()%}
      <style>
        .opinion .swiper {
          width: 100%;
          height: 309px;
          background-color: transparent;
        }

        .swiper-wrapper {
          display: flex;
          align-items: center;
        }

        .swiper-slide {
          text-align: center;
          font-size: 18px;
          display: flex;
          justify-content: center;
          align-items: center;
          background-color: transparent;
        }

        @media (max-width: 760px) {
          .swiper-button-next {
            right: 20px;
            transform: rotate(90deg);
          }

          .swiper-button-prev {
            left: 20px ;
            transform: rotate(90deg);
          }
        }

        .swiper-pagination {
          top: 0;
        }
        @media (max-width: 767px) {
        .opinion .swiper-button-next, .swiper-button-prev {
    display: none !important;
  }}
      </style>
      <div class="opinion">
        <div class="swiper">
          <div class="swiper-wrapper">
            {# هنا for loop بدل كل دا  #}
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>
            <div class="swiper-slide">{{cardOptions(userName="مصلح حربي", discription="من افضل متاجر العود التي تعاملت معها جودة واصالة وسعر في متناول الجميع", place="جدة", rating=5)}}</div>

          </div>
          <div class="swiper-pagination"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

      </div>
      <script>
        var swiper = new Swiper('.swiper', {
          slidesPerView: 3,
          spaceBetween: 10,
          navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev'
          },
          pagination: {
            el: ".swiper-pagination",
            clickable: true
          },
          breakpoints: {
    768: {
      slidesPerView: 3,
      spaceBetween: 30,
    },
    0: {
      slidesPerView: 1,
      spaceBetween: 10,
    }
  },
        });

      
      </script>
      {%endmacro%}


      {%macro productDetailswipper(images="")%}
      <style>
      .productDetailswipper .swiper {
        width: 100%;
        height: 100%;
      }
  
      .productDetailswipper .swiper-slide {
        text-align: center;
        font-size: 18px;
        background: white;
        display: flex;
        justify-content: center;
        align-items: center;
      }
  
      .productDetailswipper .swiper-slide img {
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
  
      .productDetailswipper .swiper-pagination-bullet {
        width: 20px;
        height: 20px;
        text-align: center;
        line-height: 20px;
        font-size: 12px;
        color: #000;
        opacity: 1;
        background: rgba(0, 0, 0, 0.2);
      }
  
      .productDetailswipper .swiper-pagination-bullet-active {
        color: #fff;
        background: #007aff;
      }
    </style>
    <div class="productDetailswipper">
       <div class="swiper Detailswipper md:h-screen  h-96">
        <div class="swiper-wrapper lg:h-screen h-96 md:h-[480px]">
          {%for img in images%} 
          <div class="swiper-slide">
            <img class="h-full w-full " style="object-fit: contain;" src="{{ img.imageUrl }}" alt="Image description">
          </div> 
          {%endfor%} 
        </div>
        {%if images.length > 1%}

        <div class="swiper-pagination"></div>
        <div class="swiper-button-next"></div>
        <div class="swiper-button-prev"></div>
        {%endif%}
       </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
      <script>
        var swiper = new Swiper(".Detailswipper", {
          
          pagination: {
            el: ".swiper-pagination",
            navigation: {
    nextEl: '.swiper-button-next',
    prevEl: '.swiper-button-prev'
  },
  
          },
        });
      </script>
      {%endmacro%}
    



      {% macro swiperproduct()%}
 <div class="swiper-slide">
   <img class="w-full" src={{"images/home1.webp" | assets}}>
</div>
 <div class="swiper-slide swiper-slide-duplicate swiper-slide-prev" data-swiper-slide-index="2"
    style="width: 472px; margin-left: 5px;">
    <img class="w-full" src={{"images/home1.webp" | assets}}>
  </div>
{% endmacro %}